import{e as O,g as y,b as S,k as E,i as k,l as D,j as N}from"./disclose-version.DNe7A0TO.js";import{M as q,q as A,B,i as M,N as L,c as P,O as w,P as V,Q as C,R as H,e as I,p as W,a as Y,T as $,V as j}from"./runtime.HfjRzS5m.js";function Q(r,e,s,n){function a(t){if(n.capture||h.call(e,t),!t.cancelBubble)return s.call(this,t)}return r.startsWith("pointer")||r==="wheel"?A(()=>{e.addEventListener(r,a,n)}):e.addEventListener(r,a,n),a}function K(r,e,s,n,a){var t={capture:n,passive:a},c=Q(r,e,s,t);(e===document.body||e===window||e===document)&&q(()=>{e.removeEventListener(r,c,t)})}function h(r){var g;var e=this,s=e.ownerDocument,n=r.type,a=((g=r.composedPath)==null?void 0:g.call(r))||[],t=a[0]||r.target,c=0,d=r.__root;if(d){var u=a.indexOf(d);if(u!==-1&&(e===document||e===window)){r.__root=e;return}var f=a.indexOf(e);if(f===-1)return;u<=f&&(c=u)}if(t=a[c]||r.target,t!==e){B(r,"currentTarget",{configurable:!0,get(){return t||s}});try{for(var _,i=[];t!==null;){var l=t.parentNode||t.host||null;try{var o=t["__"+n];if(o!==void 0&&!t.disabled)if(M(o)){var[p,...T]=o;p.apply(t,[r,...T])}else o.call(t,r)}catch(v){_?i.push(v):_=v}if(r.cancelBubble||l===e||l===null)break;t=l}if(_){for(let v of i)queueMicrotask(()=>{throw v});throw _}}finally{r.__root=e,t=e}}}const z=new Set,b=new Set;function U(r,e){(r.__t??(r.__t=r.nodeValue))!==e&&(r.nodeValue=r.__t=e)}function X(r,e,s,n){e===void 0?n!==null&&n(r):e(r,s)}function F(r,e){const s=e.anchor??e.target.appendChild(O());return L(()=>R(r,{...e,anchor:s}),!1)}function Z(r,e){const s=e.target,n=N;try{return L(()=>{y(!0);for(var a=s.firstChild;a&&(a.nodeType!==8||a.data!==P);)a=a.nextSibling;if(!a)throw w;const t=S(a),c=R(r,{...e,anchor:t});return y(!1),c},!1)}catch(a){if(a===w)return e.recover===!1&&V(),E(),k(s),y(!1),F(r,e);throw a}finally{y(!!n),D(n)}}function R(r,{target:e,anchor:s,props:n={},events:a,context:t,intro:c=!1}){E();const d=new Set,u=i=>{for(let l=0;l<i.length;l++){const o=i[l],p=$.includes(o);d.has(o)||(d.add(o),e.addEventListener(o,h,{passive:p}),document.addEventListener(o,h,{passive:p}))}};u(C(z)),b.add(u);let f;const _=H(()=>(I(()=>{if(t){W({});var i=j;i.c=t}a&&(n.$$events=a),f=r(s,n)||{},t&&Y()}),()=>{for(const i of d)e.removeEventListener(i,h),document.removeEventListener(i,h);b.delete(u),m.delete(f)}));return m.set(f,_),f}let m=new WeakMap;function x(r){const e=m.get(r);e==null||e()}export{X as a,K as e,Z as h,F as m,U as s,x as u};
